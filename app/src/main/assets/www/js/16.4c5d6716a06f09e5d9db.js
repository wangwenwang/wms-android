webpackJsonp([16],{SaPZ:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n("vAwi"),o={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"Replenishment"},[n("header",[n("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),n("span",[t._v("补货")]),n("i",{staticClass:"iconfont icon-saoma",on:{click:t.scan}})]),t._v(" "),n("div",{staticClass:"container"},[n("div",[n("div",[n("span",[t._v("自库位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.From_LibraryPosition,expression:"From_LibraryPosition"}],attrs:{readonly:""},domProps:{value:t.From_LibraryPosition},on:{input:function(i){i.target.composing||(t.From_LibraryPosition=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"scanBtn"},[n("span",{on:{click:t.from_scanClick}},[t._v("扫")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.From_scan,expression:"From_scan"}],ref:"From_scan",staticClass:"normalStyle",domProps:{value:t.From_scan},on:{focus:function(i){t.g_focus("From_scan")},keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;t.getFocus("ConfirmNum")},input:function(i){i.target.composing||(t.From_scan=i.target.value)}}}),t._v(" "),t.From_scan?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(i){t.clearInput("From_scan")}}}):t._e()])]),t._v(" "),n("div",[n("span",[t._v("商品代码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_CommodityCode,expression:"input_CommodityCode"}],attrs:{readonly:""},domProps:{value:t.input_CommodityCode},on:{input:function(i){i.target.composing||(t.input_CommodityCode=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"goodsName"},[n("span",[t._v("商品名称")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input_CommodityName,expression:"input_CommodityName"}],attrs:{readonly:""},domProps:{value:t.input_CommodityName},on:{input:function(i){i.target.composing||(t.input_CommodityName=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"goodsName property"},[n("span",[t._v("批次属性")]),t._v(" "),n("textarea",{attrs:{readonly:""}},[t._v("货物状态:"+t._s(t.lottable02)+"\n生产批号:"+t._s(t.lottable03)+"\n生产日期:"+t._s(t.lottable04)+"\n到期日期:"+t._s(t.Lottable05)+"\n\t\t\t\t")])]),t._v(" "),n("div",[n("div",[n("span",[t._v("补货数量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.replenish_Num,expression:"replenish_Num"}],attrs:{readonly:""},domProps:{value:t.replenish_Num},on:{input:function(i){i.target.composing||(t.replenish_Num=i.target.value)}}})]),t._v(" "),n("div",[n("span",[t._v("可用数量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.AvailableQuantity,expression:"AvailableQuantity"}],attrs:{readonly:""},domProps:{value:t.AvailableQuantity},on:{input:function(i){i.target.composing||(t.AvailableQuantity=i.target.value)}}})])]),t._v(" "),n("div",[n("div",[n("span",[t._v("确认数量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.ConfirmNum,expression:"ConfirmNum"}],ref:"ConfirmNum",staticClass:"normalStyle",attrs:{type:"number"},domProps:{value:t.ConfirmNum},on:{change:function(i){t.toUppercase("ConfirmNum")},focus:function(i){t.g_focus("ConfirmNum")},keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;t.getFocus("To_scan")},input:function(i){i.target.composing||(t.ConfirmNum=i.target.value)}}}),t._v(" "),t.ConfirmNum?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(i){t.clearInput("ConfirmNum")}}}):t._e()]),t._v(" "),n("div",[n("span",[t._v("单位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_Company,expression:"input_Company"}],attrs:{readonly:""},domProps:{value:t.input_Company},on:{input:function(i){i.target.composing||(t.input_Company=i.target.value)}}})])]),t._v(" "),n("div",[n("div",[n("span",[t._v("目的库位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.To_LibraryPosition,expression:"To_LibraryPosition"}],attrs:{readonly:""},domProps:{value:t.To_LibraryPosition},on:{input:function(i){i.target.composing||(t.To_LibraryPosition=i.target.value)}}})]),t._v(" "),n("div",{staticClass:"scanBtn"},[n("span",{on:{click:t.to_scanClick}},[t._v("扫")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.To_scan,expression:"To_scan"}],ref:"To_scan",staticClass:"normalStyle",domProps:{value:t.To_scan},on:{focus:function(i){t.g_focus("To_scan")},keyup:function(i){return"button"in i||!t._k(i.keyCode,"enter",13,i.key,"Enter")?t.submit(i):null},input:function(i){i.target.composing||(t.To_scan=i.target.value)}}}),t._v(" "),t.To_scan?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(i){t.clearInput("To_scan")}}}):t._e()])]),t._v(" "),n("span",{staticClass:"g_singleBtn",on:{click:t.submit}},[t._v("确认")])]),t._v(" "),t.tipsHide?n("div",{staticClass:"g_tips",on:{touchmove:function(t){t.preventDefault()}}},[n("div",[n("span",[t._v("提示信息")]),t._v(" "),n("span",[t._v(t._s(t.msg))]),t._v(" "),n("p",{on:{click:function(i){t.tipsErrorHide(t.inputFocus,t.ifRouter)}}},[t._v("确定")])])]):t._e()])},staticRenderFns:[]};var s=function(t){n("kNin")},a=n("VU/8")(e.a,o,!1,s,"data-v-55d52f7d",null);i.default=a.exports},kNin:function(t,i){},vAwi:function(t,i,n){"use strict";(function(t){i.a={name:"Replenishment",data:function(){return{tipsHide:!1,msg:"",inputFocus:"",From_LibraryPosition:"",From_scan:"",input_CommodityCode:"",input_CommodityName:"",lottable02:"",lottable03:"",lottable04:"",Lottable05:"",replenish_Num:"",AvailableQuantity:"",ConfirmNum:"",input_Company:"",To_LibraryPosition:"",To_scan:"",Replenish_TaskData:[],ReplenishIndex:0,ReplenishData:{},ifRouter:!1}},mounted:function(){this.$refs.From_scan.focus(),window.QRScanAjax=this.QRScanAjax,t("input").attr("maxlength","50")},created:function(){if(this.$store.state.Replenish_TaskData.length){this.Replenish_TaskData=this.$store.state.Replenish_TaskData;var t=this.$route.query.ReplenishIndex;this.ReplenishIndex=t;var i=this.$store.state.Replenish_TaskData[t];this.ReplenishData=i,this.replaceTemplate(),console.log(i)}},methods:{goPrev:function(){this.$router.push({name:"ReplenishTaskList",query:{ifChangeStatus:!0}})},QRScanAjax:function(t){var i=this.$store.state.ScanQRCodeInputName;this[i]=t,"From_scan"==i&&this.getFocus("ConfirmNum"),"ConfirmNum"==i?this.getFocus("To_scan"):"To_scan"==i&&this.getFocus("submit")},submit:function(){var t=this;if(!this.From_scan)return t.msg="请确认自库位",t.inputFocus="From_scan",void t.tipsShow("To_scan");if(!this.To_scan)return t.msg="请确认目的库位",t.inputFocus="To_scan",void t.tipsShow("To_scan");if(!this.ConfirmNum)return t.msg="请输入补货数量",t.inputFocus="ConfirmNum",void t.tipsShow("To_scan");if(this.From_scan!=this.From_LibraryPosition)return t.msg="自库位不一致",t.inputFocus="From_scan",void t.tipsShow("To_scan");if(this.ConfirmNum<0||this.ConfirmNum>this.AvailableQuantity)return t.msg="确认数量必须大于零且少于可用数量",t.inputFocus="ConfirmNum",void t.tipsShow("To_scan");if(this.ConfirmNum!=parseInt(this.ConfirmNum))return t.msg="请输入正确的数量",t.inputFocus="ConfirmNum",void t.tipsShow("To_scan");if(this.To_scan!=this.To_LibraryPosition)return t.msg="目的库位不一致",t.inputFocus="To_scan",void t.tipsShow("To_scan");var i=this.HOST+"RFRepConfirm.do",n={TaskDetailKey:t.Replenish_TaskData[t.ReplenishIndex].TaskDetailKey,QtyConfirm:t.ConfirmNum},e=t.$store.state.Replenish_StatusArr;this.httpRequest(i,n,function(i){if(e[t.ReplenishIndex]=9,t.$store.state.Replenish_StatusArr=e,t.ReplenishIndex==t.Replenish_TaskData.length-1)t.msg="补货已完成",t.tipsShow("To_scan"),t.ifRouter=!0;else{t.ReplenishIndex++;for(var n=!1,o=t.ReplenishIndex;o<e.length;o++){if(0==e[o])return t.ReplenishData=t.Replenish_TaskData[o],void t.replaceTemplate();n=!0}n&&(t.msg="补货已完成",t.tipsShow("To_scan"),t.ifRouter=!0)}},"From_scan")},from_scanClick:function(){this.From_scan=this.From_LibraryPosition},to_scanClick:function(){this.To_scan=this.To_LibraryPosition},replaceTemplate:function(){this.From_LibraryPosition=this.ReplenishData.FromLoc,this.From_scan="",this.input_CommodityCode=this.ReplenishData.Sku,this.input_CommodityName=this.ReplenishData.Descr,this.lottable02=this.ReplenishData.Lottable02,this.lottable03=this.ReplenishData.Lottable03,this.lottable04=this.ReplenishData.Lottable04,this.Lottable05=this.ReplenishData.Lottable05,this.replenish_Num=this.ReplenishData.Qty,this.AvailableQuantity=this.ReplenishData.QtyAvailable,this.ConfirmNum=this.ReplenishData.Qty,this.input_Company=this.ReplenishData.Susr2,this.To_LibraryPosition=this.ReplenishData.ToLoc,this.To_scan=""},tipsErrorHide:function(t,i){this.tipsHide=!1,i&&this.$router.push({name:"ReplenishTaskList",query:{ifChangeStatus:!0}}),t&&this.$refs[t].select()}}}}).call(i,n("7t+N"))}});
//# sourceMappingURL=16.4c5d6716a06f09e5d9db.js.map