webpackJsonp([33],{"20ku":function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=n("YYGg"),u={render:function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"CycleCount"},[n("header",[n("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.toIndex}}),n("span",[t._v("盘点")]),n("i",{staticClass:"iconfont icon-saoma",on:{click:t.scan}})]),t._v(" "),n("div",{staticClass:"container"},[n("div",[n("span",[t._v("盘点单号")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.CountNo,expression:"CountNo"}],ref:"CountNo",attrs:{placeholder:"请输入内容"},domProps:{value:t.CountNo},on:{change:function(o){t.toUppercase("CountNo")},focus:function(o){t.g_focus("CountNo")},keyup:function(o){return"button"in o||!t._k(o.keyCode,"enter",13,o.key,"Enter")?t.skipLoc(o):null},input:function(o){o.target.composing||(t.CountNo=o.target.value)}}}),t._v(" "),t.CountNo?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(o){t.clearInput("CountNo")}}}):t._e(),t._v(" "),n("i",{staticClass:"iconfont icon-sousuo",on:{click:t.choiceNo}})]),t._v(" "),n("div",[n("span",[t._v("盘点类型")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.CountType,expression:"CountType"}],staticClass:"CountType",on:{change:[function(o){var n=Array.prototype.filter.call(o.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.CountType=o.target.multiple?n:n[0]},t.CountTypeSelected]}},t._l(t.CountTypeList,function(o){return n("option",{domProps:{value:o.id}},[t._v(t._s(o.name))])}))]),t._v(" "),n("div",[n("span",[t._v("盘点库位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.Loc,expression:"Loc"}],ref:"Loc",attrs:{placeholder:"请输入内容"},domProps:{value:t.Loc},on:{change:function(o){t.toUppercase("Loc")},keyup:function(o){return"button"in o||!t._k(o.keyCode,"enter",13,o.key,"Enter")?t.confirmOnclick(o):null},focus:function(o){t.g_focus("Loc")},blur:function(o){t.g_blur()},input:function(o){o.target.composing||(t.Loc=o.target.value)}}}),t._v(" "),t.Loc?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(o){t.clearInput("Loc")}}}):t._e()]),t._v(" "),n("span",{staticClass:"g_singleBtn",on:{click:t.confirmOnclick}},[t._v("确认")])]),t._v(" "),t.tipsHide?n("div",{staticClass:"g_tips",on:{touchmove:function(t){t.preventDefault()}}},[n("div",[n("span",[t._v("错误信息")]),t._v(" "),n("span",[t._v(t._s(t.msg))]),t._v(" "),n("p",{on:{ref:t.inputFocus,click:function(o){t.tipsHideen(t.inputFocus)}}},[t._v("确定")])])]):t._e()])},staticRenderFns:[]};var i=function(t){n("hspy")},c=n("VU/8")(e.a,u,!1,i,"data-v-020635b9",null);o.default=c.exports},YYGg:function(t,o,n){"use strict";(function(t){o.a={name:"CycleCount",data:function(){return{CountNo:"",CountTypeList:[{id:"PSku",name:"商品"},{id:"PSkuxLottable",name:"商品、批号"},{id:"PSkuxLot",name:"商品、系统批号"}],CountType:"",Loc:"",tipsHide:!1,msg:"",inputFocus:""}},mounted:function(){this.$refs.Loc.focus(),window.QRScanAjax=this.QRScanAjax,t("input").attr("maxlength","50")},created:function(){this.CountType=this.CountTypeList[0].id,this.$route.query.SelectOrder&&(this.CountNo=this.$route.query.SelectOrder.CountNo,this.CountType=this.$route.query.SelectOrder.CountType)},methods:{QRScanAjax:function(t){var o=this.$store.state.ScanQRCodeInputName;this[o]=t,"CountNo"==o?this.getFocus("Loc"):"Loc"==o&&this.confirmOnclick()},CountTypeSelected:function(){console.log(this.CountType)},skipLoc:function(){this.$refs.Loc.focus()},choiceNo:function(){var t=this,o=this.HOST+"RFCountSel.do",n={CountNo:this.CountNo};this.httpRequest(o,n,function(o){t.$store.state.CycleCount_RFCountSel=o.data.data,t.$router.push({name:"CycleCount_ChoiceNo",query:{}})},"CountNo")},confirmOnclick:function(){var t=this;if(this.CountNo)if(this.Loc){var o=this.HOST+"RFCountQry.do",n={CountNo:this.CountNo,CountType:this.CountType,Loc:this.Loc};this.httpRequest(o,n,function(o){t.$router.push({name:"CycleCount_Submit",query:{CountNo:t.CountNo,CountType:t.CountType,Loc:t.Loc}}),t.$store.state.CycleCount_RFCountQry=o.data.data},"CountNo")}else this.msg="盘点库位不能为空",t.tipsShow("Loc"),t.inputFocus="Loc";else this.msg="盘点单号不能为空",t.tipsShow("CountNo"),t.inputFocus="CountNo"},toIndex:function(){this.$router.push({name:"Index"})}}}}).call(o,n("7t+N"))},hspy:function(t,o){}});
//# sourceMappingURL=33.f17c966ba9f38d88ba57.js.map