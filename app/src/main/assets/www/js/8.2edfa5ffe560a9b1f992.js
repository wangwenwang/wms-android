webpackJsonp([8],{"+o/g":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("i+Zl"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CheckOrder_check"},[a("header",[a("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:e.toIndex}}),a("span",[e._v("按单复核-复核")]),a("i",{staticClass:"iconfont icon-saoma",on:{click:e.scan}})]),e._v(" "),a("div",{staticClass:"container"},[a("div",[a("span",[e._v("SO单号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.OrderKey,expression:"OrderKey"}],ref:"OrderKey",attrs:{readonly:""},domProps:{value:e.OrderKey},on:{input:function(t){t.target.composing||(e.OrderKey=t.target.value)}}})]),e._v(" "),a("div",[a("span",[e._v("箱号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.CaseNo,expression:"CaseNo"}],ref:"CaseNo",attrs:{readonly:""},domProps:{value:e.CaseNo},on:{input:function(t){t.target.composing||(e.CaseNo=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"qty"},[a("span",[e._v("数量")]),e._v(" "),e.Qty?a("i",{staticClass:"iconfont icon-cuowu",on:{click:function(t){e.clearInput("Qty")}}}):e._e(),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Qty,expression:"Qty"}],ref:"Qty",domProps:{value:e.Qty},on:{focus:function(t){e.g_focus("Qty")},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.getFocus("Sku")},input:function(t){t.target.composing||(e.Qty=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Susr2,expression:"Susr2"}],ref:"Susr2",attrs:{readonly:""},domProps:{value:e.Susr2},on:{input:function(t){t.target.composing||(e.Susr2=t.target.value)}}})]),e._v(" "),a("div",[a("span",[e._v("商品代码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.Sku,expression:"Sku"}],ref:"Sku",attrs:{placeholder:"请输入内容"},domProps:{value:e.Sku},on:{focus:function(t){e.g_focus("Sku")},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.checkSku(t):null},input:function(t){t.target.composing||(e.Sku=t.target.value)}}}),e._v(" "),e.Sku?a("i",{staticClass:"iconfont icon-cuowu",on:{click:function(t){e.clearInput("Sku")}}}):e._e()]),e._v(" "),a("div",{staticClass:"goods_name"},[a("span",[e._v("商品名称")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.Descr,expression:"Descr"}],ref:"Descr",attrs:{readonly:""},domProps:{value:e.Descr},on:{input:function(t){t.target.composing||(e.Descr=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"checkQty"},[a("span",[e._v("已复核")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.CheckedQty,expression:"CheckedQty"}],ref:"CheckedQty",attrs:{readonly:""},domProps:{value:e.CheckedQty},on:{input:function(t){t.target.composing||(e.CheckedQty=t.target.value)}}}),e._v(" "),a("span",{staticClass:"daiCheck"},[e._v("待复核")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.PreCheckQty,expression:"PreCheckQty"}],ref:"PreCheckQty",attrs:{readonly:""},domProps:{value:e.PreCheckQty},on:{input:function(t){t.target.composing||(e.PreCheckQty=t.target.value)}}})]),e._v(" "),a("div",[a("span",[e._v("总待复核")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.SumPreCheckQty,expression:"SumPreCheckQty"}],ref:"SumPreCheckQty",attrs:{readonly:""},domProps:{value:e.SumPreCheckQty},on:{input:function(t){t.target.composing||(e.SumPreCheckQty=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"g_doubleBtn_chckOrder"},[a("div",{on:{click:e.check}},[e._v("复核完成")]),e._v(" "),a("div",{on:{click:e.closeCase}},[e._v("关箱")]),e._v(" "),a("div",{on:{click:e.checkSku}},[e._v("确认")])])]),e._v(" "),e.tipsHide?a("div",{staticClass:"g_tips",on:{touchmove:function(e){e.preventDefault()}}},[a("div",[a("span",[e._v("错误信息")]),e._v(" "),a("span",[e._v(e._s(e.msg))]),e._v(" "),a("p",{on:{click:function(t){e.tipsHideen(e.inputFocus)}}},[e._v("确定")])])]):e._e()])},staticRenderFns:[]};var o=function(e){a("VIAV")},u=a("VU/8")(r.a,s,!1,o,"data-v-2c762c47",null);t.default=u.exports},VIAV:function(e,t){},"i+Zl":function(e,t,a){"use strict";(function(e){t.a={name:"CheckOrder_check",data:function(){return{OrderKey:"",CaseNo:"",Qty:"1",Susr2:"单位",Sku:"",Descr:"",CheckedQty:"",SumPreCheckQty:"",SumQty:"",StorerKey:"",tipsHide:!1,msg:"",inputFocus:"",BoxType:"ByOrder",SumCheckedQty:""}},computed:{PreCheckQty:function(){return this.SumQty-this.CheckedQty}},mounted:function(){window.QRScanAjax=this.QRScanAjax,e("input").attr("maxlength","50"),this.$refs.Sku.focus()},created:function(){this.$route.query.OrderKey&&(this.OrderKey=this.$route.query.OrderKey),this.$route.query.CaseNo&&(this.CaseNo=this.$route.query.CaseNo),this.$route.query.StorerKey&&(this.StorerKey=this.$route.query.StorerKey)},methods:{QRScanAjax:function(e){var t=this.$store.state.ScanQRCodeInputName;this[t]=e,"Qty"==t?this.getFocus("Sku"):"Sku"==t&&this.checkSku()},toIndex:function(){this.$router.push({name:"CheckOrder",query:{OrderKey:this.OrderKey,CaseNo:this.CaseNo}})},checkSku:function(){var e=this;if(""==this.Qty)return e.msg="数量不能为空",e.tipsShow("Qty"),e.inputFocus="Qty",!1;if(""==this.Sku)return e.msg="商品代码不能为空",e.tipsShow("Sku"),e.inputFocus="Sku",!1;var t=this.HOST+"RFCheckSku.do",a={OrderKey:e.OrderKey,BoxType:e.BoxType,Sku:e.Sku,Qty:e.Qty,CaseNo:e.CaseNo,StorerKey:e.StorerKey};this.httpRequest(t,a,function(t){t.data.data.length?(e.Descr=t.data.data[0].Descr,e.CheckedQty=t.data.data[0].SumCheckedQty,e.SumQty=t.data.data[0].SumQty,e.SumPreCheckQty=t.data.data[0].SumPreCheckQty,e.Susr2=t.data.data[0].Susr2,e.Sku="",e.$refs.Sku.focus()):(e.tipsShow("Sku"),e.msg="未查询到数据",e.inputFocus="Sku")},"Sku")},check:function(){var e=this,t=this.HOST+"RFCheck.do",a={OrderKey:e.OrderKey,BoxType:e.BoxType};this.httpRequest(t,a,function(t){t.data.data.length?t.data.data[0].SumQty-t.data.data[0].SumCheckedQty==0?e.$router.push({name:"CheckOrder"}):(e.tipsShow(""),e.msg="你还有商品未复核,未复核数量："+(t.data.data[0].SumQty-t.data.data[0].SumCheckedQty),e.inputFocus="Sku"):(e.tipsShow(""),e.msg="未查询到数据",e.inputFocus="Orderkey")},"OrderKey")},closeCase:function(){var e=this,t=this.HOST+"RFCheckSku.do",a={OrderKey:e.OrderKey,BoxType:e.BoxType,Sku:e.Sku,Qty:e.Qty,CaseNo:e.CaseNo,StorerKey:e.StorerKey};""!=this.Qty&&""!=this.Sku?this.httpRequest(t,a,function(t){t.data.data.length?(e.Descr=t.data.data[0].Descr,e.CheckedQty=t.data.data[0].SumCheckedQty,e.SumQty=t.data.data[0].SumQty,e.SumPreCheckQty=t.data.data[0].SumPreCheckQty,e.Susr2=t.data.data[0].Susr2,e.$router.push({name:"CheckOrder",query:{OrderKey:e.OrderKey,CaseNo:e.CaseNo}})):(e.tipsShow("Sku"),e.msg="未查询到数据",e.inputFocus="Sku")},"Sku"):this.toIndex()}}}}).call(t,a("7t+N"))}});
//# sourceMappingURL=8.2edfa5ffe560a9b1f992.js.map