webpackJsonp([29],{"K/Qi":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("M/Wm"),s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"CurrentVue",staticClass:"RFOrderShip"},[r("header",[r("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:e.toIndex}}),r("span",[e._v("发运")]),r("i",{staticClass:"iconfont icon-saoma",on:{click:e.scan}})]),e._v(" "),r("div",{staticClass:"container"},[r("div",[r("span",[e._v("发运单号")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.OrderKey,expression:"OrderKey"}],ref:"OrderKey",staticClass:"writable",attrs:{placeholder:"请输入内容"},domProps:{value:e.OrderKey},on:{focus:function(t){e.g_focus("OrderKey")},blur:function(t){e.g_blur()},change:function(t){e.toUppercase("OrderKey")},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.RF_OrderQuery(!0,!1)},input:function(t){t.target.composing||(e.OrderKey=t.target.value)}}}),e._v(" "),e.OrderKey?r("i",{staticClass:"iconfont icon-cuowu",on:{click:function(t){e.clearInput("OrderKey")}}}):e._e()]),e._v(" "),r("div",[r("span",[e._v("预期日期")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.RequestedShipDate,expression:"RequestedShipDate"}],attrs:{readonly:""},domProps:{value:e.RequestedShipDate},on:{input:function(t){t.target.composing||(e.RequestedShipDate=t.target.value)}}})]),e._v(" "),r("div",[r("span",[e._v("收货方")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.C_company,expression:"C_company"}],attrs:{readonly:""},domProps:{value:e.C_company},on:{input:function(t){t.target.composing||(e.C_company=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"address"},[r("span",[e._v("地址")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.C_address1,expression:"C_address1"}],attrs:{readonly:""},domProps:{value:e.C_address1},on:{input:function(t){t.target.composing||(e.C_address1=t.target.value)}}})]),e._v(" "),r("div",[r("span",[e._v("总数量")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.QtyTotal,expression:"QtyTotal"}],attrs:{readonly:""},domProps:{value:e.QtyTotal},on:{input:function(t){t.target.composing||(e.QtyTotal=t.target.value)}}})]),e._v(" "),r("div",[r("span",[e._v("总体积")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.TotalVol,expression:"TotalVol"}],attrs:{readonly:""},domProps:{value:e.TotalVol},on:{input:function(t){t.target.composing||(e.TotalVol=t.target.value)}}})]),e._v(" "),r("div",[r("span",[e._v("总重量")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.TotalWgt,expression:"TotalWgt"}],attrs:{readonly:""},domProps:{value:e.TotalWgt},on:{input:function(t){t.target.composing||(e.TotalWgt=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"g_doubleBtn"},[r("div",{ref:"RF_Btn_OrderShip",on:{click:e.RF_OrderShip}},[e._v("发运确认")]),e._v(" "),r("div",{on:{click:e.RF_OrderDetailQuery}},[e._v("查看明细")]),e._v(" "),r("input",{ref:"fuzhu",staticClass:"fuzhu",on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.ConfirmShip(t):null}}})])]),e._v(" "),e.tipsHide?r("div",{staticClass:"g_tips",on:{touchmove:function(e){e.preventDefault()}}},[r("div",[r("span",[e._v("提示信息")]),e._v(" "),r("span",[e._v(e._s(e.msg))]),e._v(" "),r("p",{on:{ref:e.inputFocus,click:function(t){e.tipsHideen(e.inputFocus)}}},[e._v("确定")])])]):e._e()])},staticRenderFns:[]};var i=function(e){r("UMJv")},o=r("VU/8")(a.a,s,!1,i,"data-v-cef864a2",null);t.default=o.exports},"M/Wm":function(e,t,r){"use strict";(function(e){t.a={name:"RFOrderShip",data:function(){return{OrderKey:"",C_company:"",C_address1:"",QtyTotal:"",TotalVol:"",TotalWgt:"",RequestedShipDate:"",Status:0,tipsHide:!1,inputFocus:"",tokenString:"",SkuCnt:0}},mounted:function(){this.$refs.OrderKey.focus();this.$refs.CurrentVue.addEventListener("touchstart",this.CurrentVueTouchstart),window.QRScanAjax=this.QRScanAjax,e("input").attr("maxlength","50")},created:function(){this.OrderKey=this.$store.state.RFOrderShip_RFOrderQuery.OrderKey,this.RequestedShipDate=this.$store.state.RFOrderShip_RFOrderQuery.RequestedShipDate,this.C_company=this.$store.state.RFOrderShip_RFOrderQuery.C_company,this.C_address1=this.$store.state.RFOrderShip_RFOrderQuery.C_address1,this.QtyTotal=this.$store.state.RFOrderShip_RFOrderQuery.QtyTotal,this.TotalVol=this.$store.state.RFOrderShip_RFOrderQuery.TotalVol,this.TotalWgt=this.$store.state.RFOrderShip_RFOrderQuery.TotalWgt},methods:{QRScanAjax:function(e){this[this.$store.state.ScanQRCodeInputName]=e,this.RF_OrderQuery(!0,!1)},CurrentVueTouchstart:function(){this.focusOrderShipBtn(!1),console.log("屏幕点击事件")},ConfirmShip:function(){console.log("ConfirmShip----------");"rgb(0, 0, 139)"==this.$refs.RF_Btn_OrderShip.style.backgroundColor&&(this.QtyTotal?(this.focusOrderShipBtn(!1),this.RF_OrderShip_commit()):this.RF_OrderQuery(!0,!1))},focus:function(e){},clearData:function(){this.RequestedShipDate="",this.C_company="",this.C_address1="",this.QtyTotal="",this.TotalVol="",this.TotalWgt="",this.Status="",this.$store.state.RFOrderShip_RFOrderQuery={}},focusOrderShipBtn:function(e){console.log("fsd"),this.$refs.RF_Btn_OrderShip&&(this.$refs.RF_Btn_OrderShip.style.backgroundColor=e?"#00008B":"#285DCE")},RF_OrderQuery:function(e,t){console.log("isfocuRF_Btn_OrderShip: "+e),console.log("check_after_OrderShip: "+t);var r=this;if(this.clearData(),this.$refs.OrderKey.blur(),this.OrderKey){var a=this.HOST+"RFOrderQuery.do",s={OrderKey:this.OrderKey};this.httpRequest(a,s,function(a){0==a.data.data.length?(r.msg="订单待发运，发运单号:"+r.OrderKey,r.tipsShow("OrderKey"),r.inputFocus="OrderKey"):(r.$store.state.RFOrderShip_RFOrderQuery=a.data.data[0],r.RequestedShipDate=a.data.data[0].RequestedShipDate,r.C_company=a.data.data[0].C_company,r.C_address1=a.data.data[0].C_address1,r.QtyTotal=a.data.data[0].QtyTotal,r.TotalVol=a.data.data[0].TotalVol,r.TotalWgt=a.data.data[0].TotalWgt,r.Status=a.data.data[0].Status,r.SkuCnt=a.data.data[0].SkuCnt,r.Status<14?(r.msg="发货单未分配库存，不能发运",r.tipsShow("OrderKey"),r.inputFocus="OrderKey"):95==r.Status?(r.msg="发货单已经发运",r.tipsShow("OrderKey"),r.inputFocus="OrderKey"):r.Status>95?(r.msg="发货单已经取消，不能发运",r.tipsShow("OrderKey"),r.inputFocus="OrderKey"):t?r.RF_OrderShip_commit():(r.focusOrderShipBtn(e),r.$refs.fuzhu.focus()))},"OrderKey")}else this.msg="发货单号不能为空",r.tipsShow("OrderKey"),r.inputFocus="OrderKey"},RF_OrderShip:function(){this.OrderKey?this.QtyTotal?this.RF_OrderQuery(!0,!0):this.RF_OrderQuery(!0,!1):(this.msg="请输入【发货单号】",this.tipsShow("OrderKey"),this.inputFocus="OrderKey")},RF_OrderShip_commit:function(){var e=this,t=this.HOST+"RFOrderShip.do",r={OrderKey:this.OrderKey};this.httpRequest(t,r,function(t){e.clearData(),e.OrderKey="",e.$refs.OrderKey.focus()},"OrderKey")},RF_OrderDetailQuery:function(){var e=this;if(this.OrderKey)if(this.QtyTotal){var t=this.HOST+"RFOrderDetailQuery.do",r={OrderKey:this.OrderKey};this.httpRequest(t,r,function(t){e.$store.state.RFOrderShip_RFOrderDetailQuery=t.data.data,e.$router.push({name:"RFOrderDetailQuery"})},"OrderKey")}else this.RF_OrderQuery(!1,!1);else this.msg="请输入【发货单号】",e.tipsShow("OrderKey"),e.inputFocus="OrderKey"},toIndex:function(){this.clearData(),this.$router.push({name:"Index"})}}}}).call(t,r("7t+N"))},UMJv:function(e,t){}});
//# sourceMappingURL=29.a761a71f424eb08f254d.js.map