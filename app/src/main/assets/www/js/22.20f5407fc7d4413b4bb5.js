webpackJsonp([22],{NPXg:function(t,e){},pNGP:function(t,e,o){"use strict";(function(t){e.a={name:"ScanCommodityCode",data:function(){return{CommodityCode:"",tipsHide:!1,msg:"",inputFocus:""}},mounted:function(){this.$refs.CommodityCode.select(),window.QRScanAjax=this.QRScanAjax,t("input").attr("maxlength","50")},created:function(){this.$route.query.input_CommodityCode?this.CommodityCode=this.$route.query.input_CommodityCode:this.$route.query.ALtSku&&(this.CommodityCode=this.$route.query.ALtSku)},methods:{QRScanAjax:function(t){this[this.$store.state.ScanQRCodeInputName]=t,this.submit()},goPrev:function(){this.$router.push({name:"Receipt",query:{ReceiptKey:this.$store.state.Receipt_SubmitData[0].receiptkey,ExternalReceiptKey2:this.$store.state.Receipt_SubmitData[0].externalreceiptkey2}})},submit:function(){var t=this;if(!this.CommodityCode)return t.msg="请填写商品代码",t.inputFocus="CommodityCode",void t.tipsShow("CommodityCode");var e=this.HOST+"RFReceiveSkuRule.do",o={storerkey:t.$store.state.Receipt_SubmitData[0].storerkey,sku:t.CommodityCode,whseid:t.$store.state.WarehouseCode};this.httpRequest(e,o,function(e){if(console.log(e),"0"==e.data.data.status){var o=t.HOST+"RFReceiptSkuLottable.do",i={ReceiptKey:t.$store.state.Receipt_SubmitData[0].receiptkey,UserID:t.$store.state.UserID,Sku:t.CommodityCode};t.httpRequest(o,i,function(e){e.data.data.length?t.$store.state.Receipt_PrevBatchProp=e.data.data:t.$store.state.Receipt_PrevBatchProp=[];var o=t.HOST+"RFReceiveSku.do",i={ReceiptKey:t.$store.state.Receipt_SubmitData[0].receiptkey,StorerKey:t.$store.state.Receipt_SubmitData[0].storerkey,Sku:t.CommodityCode};t.httpRequest(o,i,function(e){console.log(e.data.data),e.data.data.length?(t.$store.state.RFReceiveSkuData=e.data.data,t.$router.push({name:"TakeDelivery",query:{Sku:t.CommodityCode}})):(t.tipsShow(),t.inputFocus="CommodityCode",t.msg="商品在收货单中不存在")},"CommodityCode")})}else"1"==e.data.data.status&&t.$router.push({name:"CommodityInfoEntry",query:{sku:t.CommodityCode,storerkey:t.$store.state.Receipt_SubmitData[0].storerkey,descr:e.data.data.data[0].descr,stdcube:e.data.data.data[0].stdcube,stdgrosswgt:e.data.data.data[0].stdgrosswgt,susr10:e.data.data.data[0].susr10}})})},ToSummary:function(){var t=this,e=this.HOST+"RFReceiptSum.do",o={ReceiptKey:t.$store.state.Receipt_SubmitData[0].receiptkey,ExternalReceiptKey2:t.$store.state.Receipt_SubmitData[0].externalreceiptkey2};this.httpRequest(e,o,function(e){e.data.data.length?(t.$store.state.Receipt_SummaryData=e.data.data,t.$router.push({name:"Summary",query:{title:"选择商品",ifSelect:!0,TakeDelivery:{ExternalReceiptKey2:t.CommodityCode}}})):(t.tipsShow("CommodityCode"),t.msg="没有数据",t.inputFocus="CommodityCode")},"CommodityCode")},BindingCommodityCode:function(){var t=this;if(!this.CommodityCode)return t.msg="请填写商品代码",t.inputFocus="CommodityCode",void t.tipsShow("CommodityCode");var e=this.HOST+"RFReceiptSum.do",o={ReceiptKey:t.$store.state.Receipt_SubmitData[0].receiptkey,ExternalReceiptKey2:t.$store.state.Receipt_SubmitData[0].externalreceiptkey2};this.httpRequest(e,o,function(e){e.data.data.length?(t.$store.state.BindingCommodity_data=e.data.data,t.$router.push({name:"BindingCommodityCode",query:{ALtSku:t.CommodityCode}})):(t.tipsShow("CommodityCode"),t.msg="没有数据",t.inputFocus="CommodityCode")},"CommodityCode")}}}}).call(e,o("7t+N"))},vL3v:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("pNGP"),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ScanCommodityCode"},[o("header",[o("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.goPrev}}),o("span",[t._v("扫描商品条码")]),o("i",{staticClass:"iconfont icon-saoma",on:{click:t.scan}})]),t._v(" "),o("div",{staticClass:"container"},[o("div",{staticClass:"import"},[o("span",[t._v("商品代码")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.CommodityCode,expression:"CommodityCode"}],ref:"CommodityCode",attrs:{placeholder:"请输入内容"},domProps:{value:t.CommodityCode},on:{focus:function(e){t.g_focus("CommodityCode")},change:function(e){t.toUppercase("CommodityCode")},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submit(e):null},input:function(e){e.target.composing||(t.CommodityCode=e.target.value)}}}),t._v(" "),t.CommodityCode?o("i",{staticClass:"iconfont icon-cuowu",on:{click:function(e){t.clearInput("CommodityCode")}}}):t._e(),t._v(" "),o("i",{staticClass:"iconfont icon-sousuo",on:{click:t.ToSummary}})]),t._v(" "),o("div",{staticClass:"g_doubleBtn"},[o("div",{on:{click:t.submit}},[t._v("确认")]),t._v(" "),o("div",{on:{click:t.BindingCommodityCode}},[t._v("绑定商品条码")])]),t._v(" "),t.tipsHide?o("div",{staticClass:"g_tips",on:{touchmove:function(t){t.preventDefault()}}},[o("div",[o("span",[t._v("错误信息")]),t._v(" "),o("span",[t._v(t._s(t.msg))]),t._v(" "),o("p",{on:{click:function(e){t.tipsHideen(t.inputFocus)}}},[t._v("确定")])])]):t._e()])])},staticRenderFns:[]};var s=function(t){o("NPXg")},d=o("VU/8")(i.a,a,!1,s,"data-v-267c7bf8",null);e.default=d.exports}});
//# sourceMappingURL=22.20f5407fc7d4413b4bb5.js.map