webpackJsonp([27],{"42oR":function(t,a,n){"use strict";(function(t){a.a={name:"RFPick_confirm",data:function(){return{input_LibraryCode:"",input_TrayNum:"",input_CommodityCode:"",input_CommodityName:"",lottable02:"",lottable03:"",lottable04:"",lottable05:"",input_ToBeQuantity:"",input_AmountQuantity:"",RFPick_SubmitData:"",stripIndex:0,warningInfo:"",nowData:1,totalData:0,StateOfGoodsData:[]}},mounted:function(){this.$refs.input_AmountQuantity.focus(),window.QRScanAjax=this.QRScanAjax,t("input").attr("maxlength","50")},created:function(){console.log(this.$store.state.RFPick_SubmitData),this.$store.state.RFPick_SubmitData.length&&(this.changePageData(0),this.totalData=this.$store.state.RFPick_SubmitData.length)},methods:{QRScanAjax:function(t){this[this.$store.state.ScanQRCodeInputName]=t,this.submit()},ToRFPick:function(){var t=this.$store.state.RFPick_SubmitData[0].TaskGroup;this.$router.push({name:"RFPick",query:{TaskGroup:t}})},submit:function(){var t=this;if(t.input_AmountQuantity)if(t.input_AmountQuantity>t.input_ToBeQuantity)t.warningInfo="拣货数量不可大于待拣数量";else if(t.input_AmountQuantity<0)t.warningInfo="拣货数量不可小于零";else{t.warningInfo="";var a=this.HOST+"RFPickConfirm.do",n={TaskDetailKey:t.$store.state.RFPick_SubmitData[t.stripIndex].TaskDetailKey,QtyPicked:t.input_AmountQuantity};this.httpRequest(a,n,function(a){parseInt(t.$store.state.RFPick_SubmitData.length)>parseInt(t.stripIndex+1)?(t.stripIndex++,t.changePageData(t.stripIndex),t.nowData=t.stripIndex+1):t.$router.push({name:"RFPick",query:{}})},"input_AmountQuantity")}else t.warningInfo="请填写拣货数量"},skip:function(){var t=this,a=this.HOST+"RFPickSkip.do",n={TaskDetailKey:t.$store.state.RFPick_SubmitData[t.stripIndex].TaskDetailKey,QtyPicked:t.input_AmountQuantity};this.httpRequest(a,n,function(a){parseInt(t.$store.state.RFPick_SubmitData.length)>parseInt(t.stripIndex+1)?(t.stripIndex++,t.changePageData(t.stripIndex),t.nowData=t.stripIndex+1):t.$router.push({name:"RFPick",query:{}})},"input_AmountQuantity")},changePageData:function(t){var a=this,n=this.$store.state.RFPick_SubmitData;if(this.input_LibraryCode=n[t].FromLoc,this.input_TrayNum=n[t].FromID,this.input_CommodityCode=n[t].Sku,this.input_CommodityName=n[t].Descr,this.lottable02=n[t].Lottable02,this.lottable03=n[t].Lottable03,this.lottable04=n[t].Lottable04,this.lottable05=n[t].Lottable05,this.input_ToBeQuantity=n[t].Qty,this.input_AmountQuantity=n[t].Qty,a.$store.state.StateOfGoodsData.length){a.StateOfGoodsData=a.$store.state.StateOfGoodsData;for(var i=0;i<a.StateOfGoodsData.length;i++)n[t].Lottable02==a.StateOfGoodsData[i].Code&&(a.lottable02=a.StateOfGoodsData[i].Descr)}else{var e=this.HOST+"GoodsStatus.do";a.httpRequest(e,{Code:"",Descr:""},function(i){console.log(i),a.StateOfGoodsData=i.data.data,a.$store.state.StateOfGoodsData=i.data.data;for(var e=0;e<a.StateOfGoodsData.length;e++)n[t].Lottable02==a.StateOfGoodsData[e].Code&&(a.lottable02=a.StateOfGoodsData[e].Descr)})}}}}}).call(a,n("7t+N"))},Lm7h:function(t,a){},"mN/X":function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=n("42oR"),e={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"RFPick_confirm"},[n("header",[n("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.ToRFPick}}),n("span",[t._v("拣货")]),n("i",{staticClass:"iconfont icon-saoma",on:{click:t.scan}})]),t._v(" "),n("div",{staticClass:"container"},[n("div",[n("span",[t._v("库位")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_LibraryCode,expression:"input_LibraryCode"}],attrs:{readonly:""},domProps:{value:t.input_LibraryCode},on:{input:function(a){a.target.composing||(t.input_LibraryCode=a.target.value)}}})]),t._v(" "),n("div",[n("span",[t._v("托盘编号")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_TrayNum,expression:"input_TrayNum"}],attrs:{readonly:""},domProps:{value:t.input_TrayNum},on:{input:function(a){a.target.composing||(t.input_TrayNum=a.target.value)}}})]),t._v(" "),n("div",[n("span",[t._v("商品代码")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_CommodityCode,expression:"input_CommodityCode"}],attrs:{readonly:""},domProps:{value:t.input_CommodityCode},on:{input:function(a){a.target.composing||(t.input_CommodityCode=a.target.value)}}})]),t._v(" "),n("div",{staticClass:"goodsName"},[n("span",[t._v("商品名称")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input_CommodityName,expression:"input_CommodityName"}],attrs:{readonly:""},domProps:{value:t.input_CommodityName},on:{input:function(a){a.target.composing||(t.input_CommodityName=a.target.value)}}})]),t._v(" "),n("div",{staticClass:"goodsName property"},[n("span",[t._v("批次属性")]),t._v(" "),n("textarea",{attrs:{readonly:""}},[t._v("货物状态:"+t._s(t.lottable02)+"\n生产批号:"+t._s(t.lottable03)+"\n生产日期:"+t._s(t.lottable04)+"\n到期日期:"+t._s(t.lottable05)+"\n\t\t\t\t")])]),t._v(" "),n("div",[n("span",[t._v("待拣数量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_ToBeQuantity,expression:"input_ToBeQuantity"}],attrs:{readonly:""},domProps:{value:t.input_ToBeQuantity},on:{input:function(a){a.target.composing||(t.input_ToBeQuantity=a.target.value)}}})]),t._v(" "),n("div",[n("span",[t._v("拣货数量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_AmountQuantity,expression:"input_AmountQuantity"}],ref:"input_AmountQuantity",staticClass:"write_input",attrs:{type:"number",placeholder:"必填"},domProps:{value:t.input_AmountQuantity},on:{focus:function(a){t.g_focus("input_AmountQuantity")},keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.submit(a):null},input:function(a){a.target.composing||(t.input_AmountQuantity=a.target.value)}}}),t._v(" "),t.input_AmountQuantity?n("i",{staticClass:"iconfont icon-cuowu",on:{click:function(a){t.clearInput("input_AmountQuantity")}}}):t._e()]),t._v(" "),n("div",{staticClass:"g_switchTab"},[t._v(t._s(t.nowData)+"/"+t._s(t.totalData))]),t._v(" "),n("p",{staticClass:"warningInfo"},[t._v(t._s(t.warningInfo))]),t._v(" "),n("div",{staticClass:"g_doubleBtn"},[n("div",{on:{click:t.submit}},[t._v("确认")]),t._v(" "),n("div",{on:{click:t.skip}},[t._v("跳过")])])])])},staticRenderFns:[]};var o=function(t){n("Lm7h")},s=n("VU/8")(i.a,e,!1,o,"data-v-0dde94e2",null);a.default=s.exports}});
//# sourceMappingURL=27.0365c05517ee082f6eaa.js.map