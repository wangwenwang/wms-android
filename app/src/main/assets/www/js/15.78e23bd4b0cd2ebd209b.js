webpackJsonp([15],{W9OZ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("WNcc"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"SkuBound"},[s("header",[s("i",{staticClass:"iconfont icon-xiangzuo1",on:{click:t.toIndex}}),s("span",[t._v("绑定商品条码")]),s("i",{staticClass:"iconfont icon-saoma",on:{click:t.scan}})]),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"import"},[s("div",{staticClass:"top"},[s("span",[t._v("客户")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.StorerKey,expression:"StorerKey"}],ref:"StorerKey",attrs:{placeholder:"请输入内容"},domProps:{value:t.StorerKey},on:{focus:function(e){t.g_focus("StorerKey")},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.skipSku(e):null},input:function(e){e.target.composing||(t.StorerKey=e.target.value)}}}),t._v(" "),t.StorerKey?s("i",{staticClass:"iconfont icon-cuowu",on:{click:function(e){t.clearInput("StorerKey")}}}):t._e(),t._v(" "),s("i",{staticClass:"iconfont icon-sousuo",on:{click:t.toSelectStorerKey}})])]),t._v(" "),s("div",{staticClass:"import"},[s("div",{staticClass:"top"},[s("span",[t._v("商品代码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.Sku,expression:"Sku"}],ref:"Sku",attrs:{placeholder:"请输入内容"},domProps:{value:t.Sku},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.skipALtSku(e):null},focus:function(e){t.g_focus("Sku")},input:function(e){e.target.composing||(t.Sku=e.target.value)}}}),t._v(" "),t.Sku?s("i",{staticClass:"iconfont icon-cuowu",on:{click:function(e){t.clearInput("Sku")}}}):t._e(),t._v(" "),s("i",{staticClass:"iconfont icon-sousuo",on:{click:t.toSelectSku}})])]),t._v(" "),s("div",{staticClass:"goods_name"},[s("span",[t._v("商品名称")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Descr,expression:"Descr"}],ref:"Descr",attrs:{readonly:""},domProps:{value:t.Descr},on:{input:function(e){e.target.composing||(t.Descr=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"import"},[s("span",[t._v("商品条码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.ALtSku,expression:"ALtSku"}],ref:"ALtSku",attrs:{placeholder:"请输入内容"},domProps:{value:t.ALtSku},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.skipAltSkuType(e):null},focus:function(e){t.g_focus("ALtSku")},input:function(e){e.target.composing||(t.ALtSku=e.target.value)}}}),t._v(" "),t.ALtSku?s("i",{staticClass:"iconfont icon-cuowu",on:{click:function(e){t.clearInput("ALtSku")}}}):t._e()]),t._v(" "),s("div",{staticClass:"import"},[s("span",[t._v("条码类型")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.AltSkuType,expression:"AltSkuType"}],ref:"AltSkuType",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.AltSkuType=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"0",selected:"selected"}},[t._v("商品统一条码")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("生产商条码")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("零售条码")])])]),t._v(" "),s("span",{staticClass:"g_singleBtn",on:{click:t.altSkuBound}},[t._v("确认")])]),t._v(" "),t.tipsHide?s("div",{staticClass:"g_tips",on:{touchmove:function(t){t.preventDefault()}}},[s("div",[s("span",[t._v("错误信息")]),t._v(" "),s("span",[t._v(t._s(t.msg))]),t._v(" "),s("p",{on:{click:function(e){t.tipsHideen(t.inputFocus)}}},[t._v("确定")])])]):t._e()])},staticRenderFns:[]};var i=function(t){s("fAr/")},n=s("VU/8")(o.a,u,!1,i,"data-v-7ce0fc4a",null);e.default=n.exports},WNcc:function(t,e,s){"use strict";(function(t){e.a={name:"SkuBound",data:function(){return{StorerKey:"",tipsHide:!1,msg:"",inputFocus:"",SkuBound:"",Sku:"",Descr:"",ALtSku:"",AltSkuType:"0",StoreKey_select:""}},mounted:function(){window.QRScanAjax=this.QRScanAjax,t("input").attr("maxlength","50"),this.StorerKey||this.$refs.StorerKey.focus(),this.StorerKey&&this.$refs.Sku.focus(),this.StorerKey&&this.Sku&&this.$refs.ALtSku.focus()},created:function(){this.$route.query.StorerKey&&(this.StorerKey=this.$route.query.StorerKey),this.$route.query.Sku&&(this.Sku=this.$route.query.Sku),this.$route.query.Descr&&(this.Descr=this.$route.query.Descr)},methods:{QRScanAjax:function(t){var e=this.$store.state.ScanQRCodeInputName;this[e]=t,"StorerKey"==e?this.getFocus("Sku"):"Sku"==e?this.skipALtSku():"ALtSku"==e&&this.skipAltSkuType()},skipSku:function(){this.$refs.Sku.focus()},skipAltSkuType:function(){this.$refs.AltSkuType.focus()},skipALtSku:function(){var t=this,e=this.HOST+"getDescrBySku.do",s={StorerKey:this.StorerKey,Sku:this.Sku};this.httpRequest(e,s,function(e){"当前客户下,该商品不存在,请核实后再输入！"!=e.data.Msg?(t.Descr=e.data.Msg,t.$refs.ALtSku.focus()):(t.tipsShow("Sku"),t.msg=e.data.Msg,t.inputFocus="Sku")},"Sku")},toIndex:function(){this.$router.push({name:"Index"})},toSelectStorerKey:function(){var t=this,e=this.HOST+"RFAltSkuBoundStorerKey.do",s={StorerKey:this.StorerKey};this.httpRequest(e,s,function(e){e.data.data.length?(t.$store.state.RFPick_SelectOrderData=e.data.data,t.$router.push({name:"StoreKey_select",query:{StorerKey:t.StorerKey}})):(t.tipsShow("StorerKey"),t.msg="未查询到数据",t.inputFocus="StorerKey")},"StorerKey")},toSelectSku:function(){var t=this,e=this.HOST+"RFAltSkuBoundSku.do",s={StorerKey:this.StorerKey,Sku:this.Sku};this.httpRequest(e,s,function(e){e.data.data.length?(t.$store.state.SkuBound_SelectSkuData=e.data.data,t.$router.push({name:"Sku_select",query:{StorerKey:t.StorerKey,Sku:t.Sku}})):(t.tipsShow("Sku"),t.msg="未查询到数据",t.inputFocus="Sku")},"Sku")},altSkuBound:function(){var t=this;if(""==this.StorerKey)t.msg="客户代码不能为空",t.tipsShow("StorerKey"),t.inputFocus="StorerKey";else if(""==this.Sku)t.msg="商品代码不能为空",t.tipsShow("Sku"),t.inputFocus="Sku";else if(""==this.ALtSku)t.msg="商品条码不能为空",t.tipsShow("ALtSku"),t.inputFocus="ALtSku";else{var e=this.HOST+"RFAltSkuBound.do",s={StorerKey:this.StorerKey,Sku:this.Sku,ALtSku:this.ALtSku,AltSkuType:this.AltSkuType};this.httpRequest(e,s,function(e){t.StorerKey="",t.Sku="",t.ALtSku="",t.Descr=""})}}}}}).call(e,s("7t+N"))},"fAr/":function(t,e){}});
//# sourceMappingURL=15.78e23bd4b0cd2ebd209b.js.map